{"ast":null,"code":"var _jsxFileName = \"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/src/components/calendernewaction.js\";\nimport React, { Component } from \"react\";\nimport { GetGoogleIcon } from \"./icons\";\nimport Rteditor from \"./richtexteditor\";\nimport { getRecorddata, createRecord, bulkcreateRecord } from \"../db/index\";\nimport Spinner from \"./spinner\";\nimport { sortArray, fieldTypeHtmltoDBmapping, getLocalData, serverButtonHandler } from \"../../js/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n\n    this.cancelMail = () => {\n      this.props.onmailsent({\n        msgObj: {}\n      });\n    };\n\n    this.sendMail = async () => {\n      let localdata = getLocalData(this.props);\n      console.log(localdata);\n      let {\n        orgname,\n        userid\n      } = localdata;\n      let {\n        tomailselectedarray,\n        subject,\n        startdate,\n        starthour,\n        startmin,\n        enddate,\n        endhour,\n        endmin\n      } = this.state;\n      console.log(this.state);\n\n      if (startdate == \"\" && this.props.defaultNewMeetingDate) {\n        startdate = this.props.defaultNewMeetingDate;\n      }\n\n      if (starthour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n        starthour = this.props.defaultNewMeetingHour;\n      }\n\n      if (endhour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n        endhour = this.props.defaultNewMeetingHour;\n      }\n\n      if (starthour.length == 1 || starthour < 10) {\n        starthour = \"0\" + starthour;\n      }\n\n      if (startmin.length == 1) {\n        startmin = \"0\" + startmin;\n      }\n\n      if (endhour.length == 1 || endhour < 10) {\n        endhour = \"0\" + endhour;\n      }\n\n      if (endmin.length == 1) {\n        endmin = \"0\" + endmin;\n      }\n\n      startdate = startdate + \"T\" + starthour + \":\" + startmin + \":00\";\n\n      if (enddate == \"\" && this.props.defaultNewMeetingDate) {\n        enddate = this.props.defaultNewMeetingDate;\n      }\n\n      enddate = enddate + \"T\" + endhour + \":\" + endmin + \":00\";\n      let body = document.getElementById(\"calendernewactiondiv\").innerHTML;\n      console.log(tomailselectedarray);\n\n      if (tomailselectedarray.length == 0) {\n        alert(\"To field cannot be empty\");\n      } else if (subject == \"\" || subject == undefined) {\n        alert(\"Subject field cannot be empty\");\n      } else if (starthour == \"\" || starthour == undefined || starthour == \"select\") {\n        alert(\"starthour field cannot be empty\");\n      } else if (startmin == \"\" || startmin == undefined || startmin == \"select\") {\n        alert(\"startmin field cannot be empty\");\n      } else if (endhour == \"\" || endhour == undefined || endhour == \"select\") {\n        alert(\"endhour field cannot be empty\");\n      } else if (endmin == \"\" || endmin == undefined || endmin == \"select\") {\n        alert(\"endmin field cannot be empty\");\n      } else {\n        console.log(tomailselectedarray);\n        let recorddata = {\n          orgname: orgname,\n          id: \"mail-\" + userid + n,\n          from: userid,\n          to: tomailselectedarray.toString(),\n          subject: subject,\n          body: body\n        };\n        let attendeeuserid = {};\n\n        for (let i = 0; i < tomailselectedarray.length; i++) {\n          attendeeuserid[i] = {\n            email: \"\",\n            label: tomailselectedarray[i],\n            name: tomailselectedarray[i],\n            phone: \"\"\n          };\n        }\n\n        var d = new Date();\n        var n = d.getTime();\n        recorddata = {\n          attendeeuserid: attendeeuserid,\n          body: body,\n          dialnumber: \"\",\n          enddate: enddate,\n          eventid: \"\",\n          id: \"evt-\" + userid + \"-\" + startdate + \"-\" + n,\n          link: \"zoom.com/123\",\n          locationaddress: \"\",\n          locationgocode: \"\",\n          organizeruserid: userid,\n          orgname: orgname,\n          passcode: \"\",\n          startdate: startdate,\n          subject: subject,\n          type: \"zoommeet,orgmeet\"\n        };\n        console.log(recorddata);\n        let result = await createRecord({\n          objectName: \"event\",\n          objectData: recorddata\n        });\n\n        if (result.isSuccess === \"false\") {\n          alert(result.message);\n        } else {\n          console.log(recorddata);\n          this.setState({\n            showSpinner: \"true\"\n          });\n          this.props.onmailsent({\n            msgObj: {}\n          });\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.name);\n\n      if (e.target.name == \"subject\") {\n        this.setState({\n          subject: e.target.value\n        });\n      }\n\n      if (e.target.name == \"startdate\") {\n        this.setState({\n          startdate: e.target.value\n        });\n      }\n\n      if (e.target.name == \"enddate\") {\n        this.setState({\n          enddate: e.target.value\n        });\n      }\n\n      if (e.target.name == \"starthour\") {\n        this.setState({\n          starthour: e.target.value\n        });\n      }\n\n      if (e.target.name == \"startmin\") {\n        this.setState({\n          startmin: e.target.value\n        });\n      }\n\n      if (e.target.name == \"endhour\") {\n        this.setState({\n          endhour: e.target.value\n        });\n      }\n\n      if (e.target.name == \"endmin\") {\n        this.setState({\n          endmin: e.target.value\n        });\n      }\n\n      if (e.target.name == \"mailnnewactionto\") {\n        if (e.target.value.includes(\"@\")) {\n          this.setState({\n            tomailsearchArray: [{\n              label: \"pradeep\",\n              name: \"pradeep\"\n            }, {\n              label: \"harika\",\n              name: \"harika\"\n            }, {\n              label: \"mom\",\n              name: \"mom\"\n            }],\n            tomail: e.target.value\n          });\n          document.getElementById(\"mailnnewactiontolist\").style.display = \"block\";\n        } else {\n          document.getElementById(\"mailnnewactiontolist\").style.display = \"none\";\n        }\n      }\n\n      console.log(this.state);\n    };\n\n    this.selectUser = x => {\n      let tomailselectedarray = this.state.tomailselectedarray;\n\n      if (!tomailselectedarray.includes(x)) {\n        tomailselectedarray.push(x);\n      }\n\n      let tomail = this.state.tomail;\n      tomail = tomail.replace(\"@\", \"\");\n      this.setState({\n        tomailselectedarray: tomailselectedarray,\n        tomail: \"\"\n      });\n      console.log(tomailselectedarray);\n      document.getElementById(\"mailnnewactiontolist\").style.display = \"none\";\n    };\n\n    this.removeselecteduser = x => {\n      let tomailselectedarray = this.state.tomailselectedarray;\n      let temparray = [];\n\n      for (let i = 0; i < tomailselectedarray.length; i++) {\n        if (tomailselectedarray[i] != x) temparray.push(tomailselectedarray[i]);\n      }\n\n      this.setState({\n        tomailselectedarray: temparray\n      });\n    };\n\n    this.state = {\n      tomailsearchArray: [],\n      attherateindex: \"0\",\n      tomail: \"\",\n      tomailselectedarray: [],\n      subject: \"\",\n      startdate: \"\",\n      enddate: \"\",\n      starthour: \"\",\n      startmin: \"\",\n      endhour: \"\",\n      endmin: \"\",\n      showSpinner: \"false\"\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    let {\n      defaultNewMeetingDate\n    } = this.props;\n    let {\n      tomailsearchArray,\n      tomail,\n      tomailselectedarray,\n      startdate,\n      enddate,\n      starthour,\n      endhour,\n      showSpinner\n    } = this.state;\n\n    if (!startdate && defaultNewMeetingDate) {\n      startdate = defaultNewMeetingDate;\n    }\n\n    if (!enddate && defaultNewMeetingDate) {\n      enddate = defaultNewMeetingDate;\n    }\n\n    if (starthour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      starthour = this.props.defaultNewMeetingHour;\n    }\n\n    if (endhour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      endhour = this.props.defaultNewMeetingHour;\n    }\n\n    let tomailsearchArrayHoverHtml = [];\n    let tomailselectedarrayHtml = [];\n\n    for (let i = 0; i < tomailsearchArray.length; i++) {\n      tomailsearchArrayHoverHtml.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid black\",\n          padding: \"5px\"\n        },\n        onClick: () => {\n          this.selectUser(tomailsearchArray[i].name);\n        },\n        children: tomailsearchArray[i].label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this));\n    }\n\n    for (let i = 0; i < tomailselectedarray.length; i++) {\n      tomailselectedarrayHtml.push( /*#__PURE__*/_jsxDEV(\"span\", {\n        children: tomailselectedarray[i]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 36\n      }, this));\n      tomailselectedarrayHtml.push( /*#__PURE__*/_jsxDEV(GetGoogleIcon, {\n        name: \"close\",\n        onClick: () => this.removeselecteduser(tomailselectedarray[i])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this));\n    }\n\n    let hourOptionhtml = [];\n    hourOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      children: \"Select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 25\n    }, this));\n\n    for (let i = 0; i < 23; i++) {\n      hourOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        children: i\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 27\n      }, this));\n    }\n\n    let minuteOptionhtml = [];\n    minuteOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      children: \"Select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 27\n    }, this));\n    minuteOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"0\",\n      children: \"00\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 27\n    }, this));\n    minuteOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"15\",\n      children: \"15\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 27\n    }, this));\n    minuteOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"30\",\n      children: \"30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 27\n    }, this));\n    minuteOptionhtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"45\",\n      children: \"45\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 27\n    }, this));\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [showSpinner == \"true\" ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 34\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          },\n          children: \"To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"90%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"100%\"\n              },\n              onChange: this.handleChange,\n              name: \"mailnnewactionto\",\n              value: this.state.tomail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              zIndex: 1,\n              top: \"100%\",\n              left: 0,\n              backgroundColor: \"red\",\n              display: \"none\"\n            },\n            id: \"mailnnewactiontolist\",\n            children: tomailsearchArrayHoverHtml\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"org-fr org-fai-c \",\n          children: tomailselectedarrayHtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          },\n          children: \"Start Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"startdate\",\n          onChange: this.handleChange,\n          value: startdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"starthour\",\n          onChange: this.handleChange,\n          value: starthour,\n          children: hourOptionhtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"startmin\",\n          onChange: this.handleChange,\n          children: minuteOptionhtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          },\n          children: \"End Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"enddate\",\n          onChange: this.handleChange,\n          value: enddate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"endhour\",\n          onChange: this.handleChange,\n          value: endhour,\n          children: hourOptionhtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"endmin\",\n          onChange: this.handleChange,\n          children: minuteOptionhtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          },\n          children: \"Subject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"subject\",\n          style: {\n            width: \"90%\"\n          },\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          },\n          name: \"subject\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"90%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"100%\",\n              height: \"50vh\",\n              backgroundColor: \"white\",\n              color: \"black\"\n            },\n            contenteditable: \"true\",\n            id: \"calendernewactiondiv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: \"90%\"\n          },\n          type: \"file\",\n          multiple: \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"org-fr\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"10%\",\n            display: \"inline-block\",\n            textAlign: \"center\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          contenteditable: \"true\",\n          onClick: this.sendMail,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          contenteditable: \"true\",\n          onClick: this.cancelMail,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Rteditor, {\n          htmlid: \"calendernewactiondiv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            alert(document.getElementById(\"id1\").innerHTML);\n          },\n          children: \"showvlue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/src/components/calendernewaction.js"],"names":["React","Component","GetGoogleIcon","Rteditor","getRecorddata","createRecord","bulkcreateRecord","Spinner","sortArray","fieldTypeHtmltoDBmapping","getLocalData","serverButtonHandler","F","constructor","props","cancelMail","onmailsent","msgObj","sendMail","localdata","console","log","orgname","userid","tomailselectedarray","subject","startdate","starthour","startmin","enddate","endhour","endmin","state","defaultNewMeetingDate","defaultNewMeetingHour","undefined","length","body","document","getElementById","innerHTML","alert","recorddata","id","n","from","to","toString","attendeeuserid","i","email","label","name","phone","d","Date","getTime","dialnumber","eventid","link","locationaddress","locationgocode","organizeruserid","passcode","type","result","objectName","objectData","isSuccess","message","setState","showSpinner","handleChange","e","target","value","includes","tomailsearchArray","tomail","style","display","selectUser","x","push","replace","removeselecteduser","temparray","attherateindex","render","tomailsearchArrayHoverHtml","tomailselectedarrayHtml","border","padding","hourOptionhtml","minuteOptionhtml","width","textAlign","position","zIndex","top","left","backgroundColor","height","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { GetGoogleIcon } from \"./icons\";\nimport Rteditor from \"./richtexteditor\";\nimport { getRecorddata, createRecord, bulkcreateRecord } from \"../db/index\";\nimport Spinner from \"./spinner\";\n\nimport {\n  sortArray,\n  fieldTypeHtmltoDBmapping,\n  getLocalData,\n  serverButtonHandler,\n} from \"../../js/index\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tomailsearchArray: [],\n      attherateindex: \"0\",\n      tomail: \"\",\n      tomailselectedarray: [],\n      subject: \"\",\n      startdate: \"\",\n      enddate: \"\",\n      starthour: \"\",\n      startmin: \"\",\n      endhour: \"\",\n      endmin: \"\",\n      showSpinner: \"false\",\n    };\n  }\n\n  cancelMail = () => {\n    this.props.onmailsent({ msgObj: {} });\n  };\n  sendMail = async () => {\n    let localdata = getLocalData(this.props);\n    console.log(localdata);\n    let { orgname, userid } = localdata;\n    let {\n      tomailselectedarray,\n      subject,\n      startdate,\n      starthour,\n      startmin,\n      enddate,\n      endhour,\n      endmin,\n    } = this.state;\n    console.log(this.state);\n\n    if (startdate == \"\" && this.props.defaultNewMeetingDate) {\n      startdate = this.props.defaultNewMeetingDate;\n    }\n\n    if (starthour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      starthour = this.props.defaultNewMeetingHour;\n    }\n\n    if (endhour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      endhour = this.props.defaultNewMeetingHour;\n    }\n    if (starthour.length == 1 || starthour < 10) {\n      starthour = \"0\" + starthour;\n    }\n    if (startmin.length == 1) {\n      startmin = \"0\" + startmin;\n    }\n    if (endhour.length == 1 || endhour < 10) {\n      endhour = \"0\" + endhour;\n    }\n    if (endmin.length == 1) {\n      endmin = \"0\" + endmin;\n    }\n\n    startdate = startdate + \"T\" + starthour + \":\" + startmin + \":00\";\n\n    if (enddate == \"\" && this.props.defaultNewMeetingDate) {\n      enddate = this.props.defaultNewMeetingDate;\n    }\n    enddate = enddate + \"T\" + endhour + \":\" + endmin + \":00\";\n\n    let body = document.getElementById(\"calendernewactiondiv\").innerHTML;\n    console.log(tomailselectedarray);\n    if (tomailselectedarray.length == 0) {\n      alert(\"To field cannot be empty\");\n    } else if (subject == \"\" || subject == undefined) {\n      alert(\"Subject field cannot be empty\");\n    } else if (\n      starthour == \"\" ||\n      starthour == undefined ||\n      starthour == \"select\"\n    ) {\n      alert(\"starthour field cannot be empty\");\n    } else if (\n      startmin == \"\" ||\n      startmin == undefined ||\n      startmin == \"select\"\n    ) {\n      alert(\"startmin field cannot be empty\");\n    } else if (endhour == \"\" || endhour == undefined || endhour == \"select\") {\n      alert(\"endhour field cannot be empty\");\n    } else if (endmin == \"\" || endmin == undefined || endmin == \"select\") {\n      alert(\"endmin field cannot be empty\");\n    } else {\n      console.log(tomailselectedarray);\n      let recorddata = {\n        orgname: orgname,\n        id: \"mail-\" + userid + n,\n        from: userid,\n        to: tomailselectedarray.toString(),\n        subject: subject,\n        body: body,\n      };\n      let attendeeuserid = {};\n      for (let i = 0; i < tomailselectedarray.length; i++) {\n        attendeeuserid[i] = {\n          email: \"\",\n          label: tomailselectedarray[i],\n          name: tomailselectedarray[i],\n          phone: \"\",\n        };\n      }\n      var d = new Date();\n      var n = d.getTime();\n\n      recorddata = {\n        attendeeuserid: attendeeuserid,\n        body: body,\n        dialnumber: \"\",\n        enddate: enddate,\n        eventid: \"\",\n        id: \"evt-\" + userid + \"-\" + startdate + \"-\" + n,\n        link: \"zoom.com/123\",\n        locationaddress: \"\",\n        locationgocode: \"\",\n        organizeruserid: userid,\n        orgname: orgname,\n        passcode: \"\",\n        startdate: startdate,\n        subject: subject,\n        type: \"zoommeet,orgmeet\",\n      };\n\n      console.log(recorddata);\n      let result = await createRecord({\n        objectName: \"event\",\n        objectData: recorddata,\n      });\n      if (result.isSuccess === \"false\") {\n        alert(result.message);\n      } else {\n        console.log(recorddata);\n        this.setState({ showSpinner: \"true\" });\n        this.props.onmailsent({ msgObj: {} });\n      }\n    }\n  };\n  handleChange = (e) => {\n    console.log(e.target.name);\n    if (e.target.name == \"subject\") {\n      this.setState({ subject: e.target.value });\n    }\n    if (e.target.name == \"startdate\") {\n      this.setState({ startdate: e.target.value });\n    }\n    if (e.target.name == \"enddate\") {\n      this.setState({ enddate: e.target.value });\n    }\n    if (e.target.name == \"starthour\") {\n      this.setState({ starthour: e.target.value });\n    }\n    if (e.target.name == \"startmin\") {\n      this.setState({ startmin: e.target.value });\n    }\n    if (e.target.name == \"endhour\") {\n      this.setState({ endhour: e.target.value });\n    }\n    if (e.target.name == \"endmin\") {\n      this.setState({ endmin: e.target.value });\n    }\n    if (e.target.name == \"mailnnewactionto\") {\n      if (e.target.value.includes(\"@\")) {\n        this.setState({\n          tomailsearchArray: [\n            { label: \"pradeep\", name: \"pradeep\" },\n            { label: \"harika\", name: \"harika\" },\n            { label: \"mom\", name: \"mom\" },\n          ],\n          tomail: e.target.value,\n        });\n        document.getElementById(\"mailnnewactiontolist\").style.display = \"block\";\n      } else {\n        document.getElementById(\"mailnnewactiontolist\").style.display = \"none\";\n      }\n    }\n    console.log(this.state);\n  };\n\n  selectUser = (x) => {\n    let tomailselectedarray = this.state.tomailselectedarray;\n    if (!tomailselectedarray.includes(x)) {\n      tomailselectedarray.push(x);\n    }\n\n    let tomail = this.state.tomail;\n    tomail = tomail.replace(\"@\", \"\");\n    this.setState({ tomailselectedarray: tomailselectedarray, tomail: \"\" });\n    console.log(tomailselectedarray);\n    document.getElementById(\"mailnnewactiontolist\").style.display = \"none\";\n  };\n\n  removeselecteduser = (x) => {\n    let tomailselectedarray = this.state.tomailselectedarray;\n    let temparray = [];\n    for (let i = 0; i < tomailselectedarray.length; i++) {\n      if (tomailselectedarray[i] != x) temparray.push(tomailselectedarray[i]);\n    }\n    this.setState({ tomailselectedarray: temparray });\n  };\n\n  render() {\n    console.log(this.props);\n    let { defaultNewMeetingDate } = this.props;\n    let {\n      tomailsearchArray,\n      tomail,\n      tomailselectedarray,\n      startdate,\n      enddate,\n      starthour,\n      endhour,\n      showSpinner,\n    } = this.state;\n    if (!startdate && defaultNewMeetingDate) {\n      startdate = defaultNewMeetingDate;\n    }\n    if (!enddate && defaultNewMeetingDate) {\n      enddate = defaultNewMeetingDate;\n    }\n\n    if (starthour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      starthour = this.props.defaultNewMeetingHour;\n    }\n\n    if (endhour == \"\" && this.props.defaultNewMeetingHour != undefined) {\n      endhour = this.props.defaultNewMeetingHour;\n    }\n\n    let tomailsearchArrayHoverHtml = [];\n    let tomailselectedarrayHtml = [];\n    for (let i = 0; i < tomailsearchArray.length; i++) {\n      tomailsearchArrayHoverHtml.push(\n        <div\n          style={{ border: \"1px solid black\", padding: \"5px\" }}\n          onClick={() => {\n            this.selectUser(tomailsearchArray[i].name);\n          }}\n        >\n          {tomailsearchArray[i].label}\n        </div>\n      );\n    }\n    for (let i = 0; i < tomailselectedarray.length; i++) {\n      tomailselectedarrayHtml.push(<span>{tomailselectedarray[i]}</span>);\n      tomailselectedarrayHtml.push(\n        <GetGoogleIcon\n          name=\"close\"\n          onClick={() => this.removeselecteduser(tomailselectedarray[i])}\n        />\n      );\n    }\n\n    let hourOptionhtml = [];\n    hourOptionhtml.push(<option>Select</option>);\n    for (let i = 0; i < 23; i++) {\n      hourOptionhtml.push(<option>{i}</option>);\n    }\n    let minuteOptionhtml = [];\n    minuteOptionhtml.push(<option>Select</option>);\n    minuteOptionhtml.push(<option value=\"0\">00</option>);\n    minuteOptionhtml.push(<option value=\"15\">15</option>);\n    minuteOptionhtml.push(<option value=\"30\">30</option>);\n    minuteOptionhtml.push(<option value=\"45\">45</option>);\n\n    return (\n      <>\n        {showSpinner == \"true\" ? <Spinner /> : \"\"}\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            To\n          </span>\n          <div style={{ position: \"relative\", width: \"90%\" }}>\n            <div>\n              <input\n                style={{ width: \"100%\" }}\n                onChange={this.handleChange}\n                name=\"mailnnewactionto\"\n                value={this.state.tomail}\n              />\n            </div>\n\n            <div\n              style={{\n                position: \"absolute\",\n                zIndex: 1,\n                top: \"100%\",\n                left: 0,\n                backgroundColor: \"red\",\n                display: \"none\",\n              }}\n              id=\"mailnnewactiontolist\"\n            >\n              {tomailsearchArrayHoverHtml}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          <div\n            className=\"org-fr org-fai-c\n        \"\n          >\n            {tomailselectedarrayHtml}\n          </div>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            Start Date\n          </span>\n          <input\n            type=\"date\"\n            name=\"startdate\"\n            onChange={this.handleChange}\n            value={startdate}\n          />\n          <select\n            name=\"starthour\"\n            onChange={this.handleChange}\n            value={starthour}\n          >\n            {hourOptionhtml}\n          </select>\n          <select name=\"startmin\" onChange={this.handleChange}>\n            {minuteOptionhtml}\n          </select>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            End Date\n          </span>\n          <input\n            type=\"date\"\n            name=\"enddate\"\n            onChange={this.handleChange}\n            value={enddate}\n          />\n          <select name=\"endhour\" onChange={this.handleChange} value={endhour}>\n            {hourOptionhtml}\n          </select>\n          <select name=\"endmin\" onChange={this.handleChange}>\n            {minuteOptionhtml}\n          </select>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            Subject\n          </span>\n          <input\n            name=\"subject\"\n            style={{ width: \"90%\" }}\n            onChange={this.handleChange}\n          />\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n            name=\"subject\"\n          >\n            Body\n          </span>\n          <div style={{ width: \"90%\" }}>\n            <div\n              style={{\n                width: \"100%\",\n                height: \"50vh\",\n                backgroundColor: \"white\",\n                color: \"black\",\n              }}\n              contenteditable=\"true\"\n              id=\"calendernewactiondiv\"\n            ></div>\n          </div>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          <input style={{ width: \"90%\" }} type=\"file\" multiple=\"true\" />\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          <button contenteditable=\"true\" onClick={this.sendMail}>\n            Send\n          </button>\n          <button contenteditable=\"true\" onClick={this.cancelMail}>\n            Cancel\n          </button>\n\n          <Rteditor htmlid=\"calendernewactiondiv\" />\n\n          <button\n            onClick={() => {\n              alert(document.getElementById(\"id1\").innerHTML);\n            }}\n          >\n            showvlue\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}