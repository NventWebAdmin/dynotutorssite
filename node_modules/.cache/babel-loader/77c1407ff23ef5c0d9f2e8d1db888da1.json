{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";//import { GetGoogleIcon } from \"./icons\";\n//import Rteditor from \"./richtexteditor\";\n//import { createRecord } from \"../db/index\";\nimport Spinner from\"./spinner\";import{getLocalData}from\"../js/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var F=/*#__PURE__*/function(_Component){_inherits(F,_Component);var _super=_createSuper(F);function F(props){var _this;_classCallCheck(this,F);_this=_super.call(this,props);_this.cancelMail=function(){_this.props.onmailsent({msgObj:{}});};_this.sendMail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var localdata,orgname,userid,_this$state,tomailselectedarray,subject,startdate,starthour,startmin,enddate,endhour,endmin,body,d,n,recorddata,attendeeuserid,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:localdata=getLocalData(_this.props);console.log(localdata);orgname=localdata.orgname,userid=localdata.userid;_this$state=_this.state,tomailselectedarray=_this$state.tomailselectedarray,subject=_this$state.subject,startdate=_this$state.startdate,starthour=_this$state.starthour,startmin=_this$state.startmin,enddate=_this$state.enddate,endhour=_this$state.endhour,endmin=_this$state.endmin;console.log(_this.state);// if (startdate === \"\" && this.props.defaultNewMeetingDate) {\n//   startdate = this.props.defaultNewMeetingDate;\n// }\n// if (starthour === \"\" && this.props.defaultNewMeetingHour !== undefined) {\n//   starthour = this.props.defaultNewMeetingHour;\n// }\n// if (endhour === \"\" && this.props.defaultNewMeetingHour !== undefined) {\n//   endhour = this.props.defaultNewMeetingHour;\n// }\nif(starthour.length===1||starthour<10){starthour=\"0\"+starthour;}if(startmin.length===1){startmin=\"0\"+startmin;}if(endhour.length===1||endhour<10){endhour=\"0\"+endhour;}if(endmin.length===1){endmin=\"0\"+endmin;}startdate=startdate+\"T\"+starthour+\":\"+startmin+\":00\";if(enddate===\"\"&&_this.props.defaultNewMeetingDate){enddate=_this.props.defaultNewMeetingDate;}enddate=enddate+\"T\"+endhour+\":\"+endmin+\":00\";body=document.getElementById(\"calendernewactiondiv\").innerHTML;console.log(tomailselectedarray);if(tomailselectedarray.length===0){alert(\"To field cannot be empty\");}else if(subject===\"\"||subject===undefined){alert(\"Subject field cannot be empty\");}else if(starthour===\"\"||starthour===undefined||starthour===\"select\"){alert(\"starthour field cannot be empty\");}else if(startmin===\"\"||startmin===undefined||startmin===\"select\"){alert(\"startmin field cannot be empty\");}else if(endhour===\"\"||endhour===undefined||endhour===\"select\"){alert(\"endhour field cannot be empty\");}else if(endmin===\"\"||endmin===undefined||endmin===\"select\"){alert(\"endmin field cannot be empty\");}else{d=new Date();n=d.getTime();console.log(tomailselectedarray);recorddata={orgname:orgname,id:\"mail-\"+userid+n,from:userid,to:tomailselectedarray.toString(),subject:subject,body:body};attendeeuserid={};for(i=0;i<tomailselectedarray.length;i++){attendeeuserid[i]={email:\"\",label:tomailselectedarray[i],name:tomailselectedarray[i],phone:\"\"};}recorddata={attendeeuserid:attendeeuserid,body:body,dialnumber:\"\",enddate:enddate,eventid:\"\",id:\"evt-\"+userid+\"-\"+startdate+\"-\"+n,link:\"zoom.com/123\",locationaddress:\"\",locationgocode:\"\",organizeruserid:userid,orgname:orgname,passcode:\"\",startdate:startdate,subject:subject,type:\"zoommeet,orgmeet\"};console.log(recorddata);// let result = await createRecord({\n//   objectName: \"event\",\n//   objectData: recorddata,\n// });\n// if (result.isSuccess === \"false\") {\n//   alert(result.message);\n// } else {\n//   console.log(recorddata);\n//   this.setState({ showSpinner: \"true\" });\n//   this.props.onmailsent({ msgObj: {} });\n// }\n}case 15:case\"end\":return _context.stop();}}},_callee);}));_this.selectUser=function(x){var tomailselectedarray=_this.state.tomailselectedarray;if(!tomailselectedarray.includes(x)){tomailselectedarray.push(x);}//  let tomail = this.state.tomail;\n// tomail = tomail.replace(\"@\", \"\");\n_this.setState({tomailselectedarray:tomailselectedarray,tomail:\"\"});console.log(tomailselectedarray);document.getElementById(\"mailnnewactiontolist\").style.display=\"none\";};_this.removeselecteduser=function(x){var tomailselectedarray=_this.state.tomailselectedarray;var temparray=[];for(var i=0;i<tomailselectedarray.length;i++){if(tomailselectedarray[i]!==x)temparray.push(tomailselectedarray[i]);}_this.setState({tomailselectedarray:temparray});};_this.createElement=function(str){var div=document.createElement(\"div\");div.innerHTML=str;return div.childNodes;};_this.state={tomailsearchArray:[],attherateindex:\"0\",tomail:\"\",tomailselectedarray:[],subject:\"\",startdate:\"\",enddate:\"\",starthour:\"\",startmin:\"\",endhour:\"\",endmin:\"\",showSpinner:\"false\"};return _this;}_createClass(F,[{key:\"componentDidMount\",value:function componentDidMount(){var viewMeetingData=this.props.viewMeetingData;document.getElementById(\"calenderviewactiondiv\").innerHTML=viewMeetingData.body;}},{key:\"render\",value:function render(){console.log(this.props);var viewMeetingData=this.props.viewMeetingData;var _this$state2=this.state,startdate=_this$state2.startdate,enddate=_this$state2.enddate,starthour=_this$state2.starthour,endhour=_this$state2.endhour,showSpinner=_this$state2.showSpinner;var endmin,subject,body,startdatestr,enddatesstr,startmin,meetingURl,toArray=[];console.log(viewMeetingData);if(viewMeetingData!==undefined&&viewMeetingData!==\"\"){for(var i in viewMeetingData.attendeeuserid){toArray.push(viewMeetingData.attendeeuserid[i].name);}console.log(toArray.toString());startdate=new Date(viewMeetingData.startdate);enddate=new Date(viewMeetingData.enddate);var startdateMonth=(startdate.getMonth()+1).toString();if(startdateMonth.length===1){startdateMonth=\"0\"+startdateMonth;}var startdatedate=startdate.getDate().toString();if(startdatedate.length===1){startdatedate=\"0\"+startdatedate;}var enddateMonth=(enddate.getMonth()+1).toString();if(enddateMonth.length===1){enddateMonth=\"0\"+enddateMonth;}var enddatedate=enddate.getDate().toString();if(enddatedate.length===1){enddatedate=\"0\"+enddatedate;}startdatestr=startdate.getFullYear()+\"-\"+startdateMonth+\"-\"+startdatedate;enddatesstr=enddate.getFullYear()+\"-\"+startdateMonth+\"-\"+startdatedate;starthour=startdate.getHours();startmin=startdate.getMinutes();endhour=enddate.getHours();endmin=enddate.getMinutes();subject=viewMeetingData.subject;// body = [];\n// body.push(React.createElement(\"div\", \"\", viewMeetingData.body));\nconsole.log(startdate);console.log(enddate);console.log(starthour);console.log(endhour);meetingURl=viewMeetingData.internetaccessdata.url;}return/*#__PURE__*/_jsxs(_Fragment,{children:[showSpinner===\"true\"?/*#__PURE__*/_jsx(Spinner,{}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:this.cancelMail,children:\"Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},children:\"To\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",width:\"90%\"},children:[/*#__PURE__*/_jsx(\"div\",{children:toArray.toString()}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",zIndex:1,top:\"100%\",left:0,backgroundColor:\"red\",display:\"none\"},id:\"mailnnewactiontolist\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"org-fr org-fai-c \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startdate\",defaultValue:startdatestr}),starthour,startmin]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"enddate\",defaultValue:enddatesstr}),endhour,endmin]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},children:\"Subject\"}),subject]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},children:\"Meeting URL\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){window.open(meetingURl);},children:\"Join Meeting\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsx(\"span\",{style:{width:\"10%\",display:\"inline-block\",textAlign:\"center\"},name:\"subject\",children:\"Body\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"90%\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",//   height: \"50vh\",\nbackgroundColor:\"white\",color:\"black\",overflow:\"scroll\"},contenteditable:\"true\",id:\"calenderviewactiondiv\",children:body})})]})]});}}]);return F;}(Component);export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorssite/src/components/calenderviewaction.js"],"names":["React","Component","Spinner","getLocalData","F","props","cancelMail","onmailsent","msgObj","sendMail","localdata","console","log","orgname","userid","state","tomailselectedarray","subject","startdate","starthour","startmin","enddate","endhour","endmin","length","defaultNewMeetingDate","body","document","getElementById","innerHTML","alert","undefined","d","Date","n","getTime","recorddata","id","from","to","toString","attendeeuserid","i","email","label","name","phone","dialnumber","eventid","link","locationaddress","locationgocode","organizeruserid","passcode","type","selectUser","x","includes","push","setState","tomail","style","display","removeselecteduser","temparray","createElement","str","div","childNodes","tomailsearchArray","attherateindex","showSpinner","viewMeetingData","startdatestr","enddatesstr","meetingURl","toArray","startdateMonth","getMonth","startdatedate","getDate","enddateMonth","enddatedate","getFullYear","getHours","getMinutes","internetaccessdata","url","width","textAlign","position","zIndex","top","left","backgroundColor","window","open","color","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import { GetGoogleIcon } from \"./icons\";\n//import Rteditor from \"./richtexteditor\";\n//import { createRecord } from \"../db/index\";\nimport Spinner from \"./spinner\";\n\nimport { getLocalData } from \"../js/index\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tomailsearchArray: [],\n      attherateindex: \"0\",\n      tomail: \"\",\n      tomailselectedarray: [],\n      subject: \"\",\n      startdate: \"\",\n      enddate: \"\",\n      starthour: \"\",\n      startmin: \"\",\n      endhour: \"\",\n      endmin: \"\",\n      showSpinner: \"false\",\n    };\n  }\n\n  componentDidMount() {\n    let { viewMeetingData } = this.props;\n\n    document.getElementById(\"calenderviewactiondiv\").innerHTML =\n      viewMeetingData.body;\n  }\n  cancelMail = () => {\n    this.props.onmailsent({ msgObj: {} });\n  };\n  sendMail = async () => {\n    let localdata = getLocalData(this.props);\n    console.log(localdata);\n    let { orgname, userid } = localdata;\n    let {\n      tomailselectedarray,\n      subject,\n      startdate,\n      starthour,\n      startmin,\n      enddate,\n      endhour,\n      endmin,\n    } = this.state;\n    console.log(this.state);\n\n    // if (startdate === \"\" && this.props.defaultNewMeetingDate) {\n    //   startdate = this.props.defaultNewMeetingDate;\n    // }\n\n    // if (starthour === \"\" && this.props.defaultNewMeetingHour !== undefined) {\n    //   starthour = this.props.defaultNewMeetingHour;\n    // }\n\n    // if (endhour === \"\" && this.props.defaultNewMeetingHour !== undefined) {\n    //   endhour = this.props.defaultNewMeetingHour;\n    // }\n\n    if (starthour.length === 1 || starthour < 10) {\n      starthour = \"0\" + starthour;\n    }\n    if (startmin.length === 1) {\n      startmin = \"0\" + startmin;\n    }\n    if (endhour.length === 1 || endhour < 10) {\n      endhour = \"0\" + endhour;\n    }\n    if (endmin.length === 1) {\n      endmin = \"0\" + endmin;\n    }\n\n    startdate = startdate + \"T\" + starthour + \":\" + startmin + \":00\";\n\n    if (enddate === \"\" && this.props.defaultNewMeetingDate) {\n      enddate = this.props.defaultNewMeetingDate;\n    }\n    enddate = enddate + \"T\" + endhour + \":\" + endmin + \":00\";\n\n    let body = document.getElementById(\"calendernewactiondiv\").innerHTML;\n    console.log(tomailselectedarray);\n    if (tomailselectedarray.length === 0) {\n      alert(\"To field cannot be empty\");\n    } else if (subject === \"\" || subject === undefined) {\n      alert(\"Subject field cannot be empty\");\n    } else if (\n      starthour === \"\" ||\n      starthour === undefined ||\n      starthour === \"select\"\n    ) {\n      alert(\"starthour field cannot be empty\");\n    } else if (\n      startmin === \"\" ||\n      startmin === undefined ||\n      startmin === \"select\"\n    ) {\n      alert(\"startmin field cannot be empty\");\n    } else if (\n      endhour === \"\" ||\n      endhour === undefined ||\n      endhour === \"select\"\n    ) {\n      alert(\"endhour field cannot be empty\");\n    } else if (endmin === \"\" || endmin === undefined || endmin === \"select\") {\n      alert(\"endmin field cannot be empty\");\n    } else {\n      var d = new Date();\n      var n = d.getTime();\n      console.log(tomailselectedarray);\n      let recorddata = {\n        orgname: orgname,\n        id: \"mail-\" + userid + n,\n        from: userid,\n        to: tomailselectedarray.toString(),\n        subject: subject,\n        body: body,\n      };\n      let attendeeuserid = {};\n      for (let i = 0; i < tomailselectedarray.length; i++) {\n        attendeeuserid[i] = {\n          email: \"\",\n          label: tomailselectedarray[i],\n          name: tomailselectedarray[i],\n          phone: \"\",\n        };\n      }\n\n      recorddata = {\n        attendeeuserid: attendeeuserid,\n        body: body,\n        dialnumber: \"\",\n        enddate: enddate,\n        eventid: \"\",\n        id: \"evt-\" + userid + \"-\" + startdate + \"-\" + n,\n        link: \"zoom.com/123\",\n        locationaddress: \"\",\n        locationgocode: \"\",\n        organizeruserid: userid,\n        orgname: orgname,\n        passcode: \"\",\n        startdate: startdate,\n        subject: subject,\n        type: \"zoommeet,orgmeet\",\n      };\n\n      console.log(recorddata);\n      // let result = await createRecord({\n      //   objectName: \"event\",\n      //   objectData: recorddata,\n      // });\n      // if (result.isSuccess === \"false\") {\n      //   alert(result.message);\n      // } else {\n      //   console.log(recorddata);\n      //   this.setState({ showSpinner: \"true\" });\n      //   this.props.onmailsent({ msgObj: {} });\n      // }\n    }\n  };\n\n  selectUser = (x) => {\n    let tomailselectedarray = this.state.tomailselectedarray;\n    if (!tomailselectedarray.includes(x)) {\n      tomailselectedarray.push(x);\n    }\n\n    //  let tomail = this.state.tomail;\n    // tomail = tomail.replace(\"@\", \"\");\n    this.setState({ tomailselectedarray: tomailselectedarray, tomail: \"\" });\n    console.log(tomailselectedarray);\n    document.getElementById(\"mailnnewactiontolist\").style.display = \"none\";\n  };\n\n  removeselecteduser = (x) => {\n    let tomailselectedarray = this.state.tomailselectedarray;\n    let temparray = [];\n    for (let i = 0; i < tomailselectedarray.length; i++) {\n      if (tomailselectedarray[i] !== x) temparray.push(tomailselectedarray[i]);\n    }\n    this.setState({ tomailselectedarray: temparray });\n  };\n\n  createElement = (str) => {\n    var div = document.createElement(\"div\");\n    div.innerHTML = str;\n    return div.childNodes;\n  };\n\n  render() {\n    console.log(this.props);\n    let {\n      // defaultNewMeetingDate,\n      // viewType,\n      viewMeetingData,\n    } = this.props;\n    let {\n      //  tomailsearchArray,\n      //  tomail,\n      // tomailselectedarray,\n      startdate,\n      enddate,\n      starthour,\n      endhour,\n      showSpinner,\n    } = this.state;\n\n    let endmin,\n      subject,\n      body,\n      startdatestr,\n      enddatesstr,\n      startmin,\n      meetingURl,\n      toArray = [];\n    console.log(viewMeetingData);\n    if (viewMeetingData !== undefined && viewMeetingData !== \"\") {\n      for (let i in viewMeetingData.attendeeuserid) {\n        toArray.push(viewMeetingData.attendeeuserid[i].name);\n      }\n      console.log(toArray.toString());\n\n      startdate = new Date(viewMeetingData.startdate);\n      enddate = new Date(viewMeetingData.enddate);\n\n      let startdateMonth = (startdate.getMonth() + 1).toString();\n      if (startdateMonth.length === 1) {\n        startdateMonth = \"0\" + startdateMonth;\n      }\n      let startdatedate = startdate.getDate().toString();\n      if (startdatedate.length === 1) {\n        startdatedate = \"0\" + startdatedate;\n      }\n\n      let enddateMonth = (enddate.getMonth() + 1).toString();\n      if (enddateMonth.length === 1) {\n        enddateMonth = \"0\" + enddateMonth;\n      }\n      let enddatedate = enddate.getDate().toString();\n      if (enddatedate.length === 1) {\n        enddatedate = \"0\" + enddatedate;\n      }\n      startdatestr =\n        startdate.getFullYear() + \"-\" + startdateMonth + \"-\" + startdatedate;\n      enddatesstr =\n        enddate.getFullYear() + \"-\" + startdateMonth + \"-\" + startdatedate;\n\n      starthour = startdate.getHours();\n      startmin = startdate.getMinutes();\n      endhour = enddate.getHours();\n      endmin = enddate.getMinutes();\n      subject = viewMeetingData.subject;\n      // body = [];\n      // body.push(React.createElement(\"div\", \"\", viewMeetingData.body));\n      console.log(startdate);\n      console.log(enddate);\n      console.log(starthour);\n      console.log(endhour);\n\n      meetingURl = viewMeetingData.internetaccessdata.url;\n    }\n\n    return (\n      <>\n        {showSpinner === \"true\" ? <Spinner /> : \"\"}\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          {/* <button contenteditable=\"true\" onClick={this.sendMail}>\n            Send\n          </button> */}\n          <button onClick={this.cancelMail}>Back</button>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            To\n          </span>\n          <div style={{ position: \"relative\", width: \"90%\" }}>\n            <div>{toArray.toString()}</div>\n\n            <div\n              style={{\n                position: \"absolute\",\n                zIndex: 1,\n                top: \"100%\",\n                left: 0,\n                backgroundColor: \"red\",\n                display: \"none\",\n              }}\n              id=\"mailnnewactiontolist\"\n            >\n              {/* {tomailsearchArrayHoverHtml} */}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          <div\n            className=\"org-fr org-fai-c\n        \"\n          >\n            {/* {tomailselectedarrayHtml} */}\n          </div>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            Start Date\n          </span>\n          <input type=\"date\" name=\"startdate\" defaultValue={startdatestr} />\n          {starthour}\n          {startmin}\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            End Date\n          </span>\n          <input type=\"date\" name=\"enddate\" defaultValue={enddatesstr} />\n          {endhour}\n          {endmin}\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            Subject\n          </span>\n          {subject}\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          >\n            Meeting URL\n          </span>\n          <div\n            onClick={() => {\n              window.open(meetingURl);\n            }}\n          >\n            Join Meeting\n          </div>\n        </div>\n        <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n            name=\"subject\"\n          >\n            Body\n          </span>\n          <div style={{ width: \"90%\" }}>\n            <div\n              style={{\n                width: \"100%\",\n                //   height: \"50vh\",\n                backgroundColor: \"white\",\n                color: \"black\",\n                overflow: \"scroll\",\n              }}\n              contenteditable=\"true\"\n              id=\"calenderviewactiondiv\"\n            >\n              {body}\n            </div>\n          </div>\n        </div>\n        {/* <div className=\"org-fr\">\n          <span\n            style={{\n              width: \"10%\",\n              display: \"inline-block\",\n              textAlign: \"center\",\n            }}\n          ></span>\n          <input style={{ width: \"90%\" }} type=\"file\" multiple=\"true\" />\n        </div> */}\n      </>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}